<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Investment Decision Dashboard – KemetX</title>
  <style>
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:"Cairo","Segoe UI",system-ui,Arial,sans-serif;transition:background .3s,color .3s}

    :root{
      --bg:#0f172a;
      --card:#111827;
      --muted:#94a3b8;
      --text:#e5e7eb;
      --accent:#22c55e;
      --warn:#f59e0b;
      --danger:#ef4444;
      --primary:#38bdf8;
      --chip:#1f2937;
      --border:#1f2937;
    }
    :root.light {
      --bg:#f9fafb;
      --card:#ffffff;
      --muted:#6b7280;
      --text:#111827;
      --accent:#16a34a;
      --warn:#d97706;
      --danger:#dc2626;
      --primary:#0284c7;
      --chip:#e5e7eb;
      --border:#d1d5db;
    }

    /* Header */
header { background: #fff; padding: 10px 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.logo { font-size: 20px; margin: 0; }
.desktop-nav { display: flex; gap: 20px; }
.desktop-nav a { text-decoration: none; color: #333; font-weight: 500; }

.side-menu {
  position: fixed; top: 0; right: -260px;
  width: 250px; height: 100vh; background: #fff;
  box-shadow: -2px 0 8px rgba(0,0,0,0.2);
  display: flex; flex-direction: column; padding: 20px;
  transition: right 0.3s ease; z-index: 999;
}
.side-menu.open { right: 0; }
.side-menu nav { display: flex; flex-direction: column; gap: 15px; }
.side-menu a { color: #333; text-decoration: none; font-size: 16px; font-weight: 500; }

.menu-btn, .close-btn { font-size: 24px; background: none; border: none; cursor: pointer; }
.close-btn { align-self: flex-end; margin-bottom: 20px; }

@media(min-width: 768px) { .menu-btn, .side-menu { display: none; } }
.side-menu .theme-toggle { margin-top: auto; padding: 10px; font-size: 16px; }
@media(max-width:768px){ .desktop-nav{display:none} .menu-btn{display:block} .actions{display:none} }

.theme-toggle{cursor:pointer;border:0;background:var(--chip);color:var(--text);padding:6px 10px;border-radius:8px}
.container{max-width:1100px;margin:auto;padding:18px}
h1{margin:0 0 6px 0;font-weight:800;font-size:clamp(20px,3vw,28px)}
.sub{color:var(--muted);font-size:14px}
.grid{display:grid;gap:14px}
.grid-2{grid-template-columns:1.2fr .8fr}
@media(max-width:920px){.grid-2{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25);transition:background .3s,color .3s}

label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
input[type="text"],input[type="number"]{width:100%;padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--bg);color:var(--text);outline:none}
input[type="text"]:focus,input[type="number"]:focus{border-color:var(--primary)}
input::placeholder{color:#6b7280}
.row{display:grid;grid-template-columns:1fr 1fr;gap:10px}

.btn{cursor:pointer;border:0;border-radius:12px;padding:12px 14px;font-weight:700;transition:all .2s}
.btn:disabled{opacity:0.5;cursor:not-allowed}
.btn-primary{background:var(--primary);color:#fff}
.btn-primary:hover:not(:disabled){background:#0369a1}
.btn-ghost{background:var(--bg);border:1px solid var(--border);color:var(--text)}
.btn-ghost:hover:not(:disabled){background:var(--chip)}
.btn-danger{background:var(--danger);color:#fff}
.btn-danger:hover:not(:disabled){background:#dc2626}
.actions{display:flex;gap:8px;flex-wrap:wrap}

.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{background:var(--chip);border:1px solid var(--border);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted)}

table{width:100%;border-collapse:separate;border-spacing:0 10px}
thead th{font-size:12px;color:var(--muted);font-weight:600;text-align:right}
tbody td{background:var(--bg);border:1px solid var(--border);padding:12px;vertical-align:middle;transition:background .3s,color .3s}
tbody tr td:first-child{border-radius:12px 0 0 12px}
tbody tr td:last-child{border-radius:0 12px 12px 0}
tbody tr:hover td{background:var(--chip)}

@media(max-width:768px){table{font-size:14px} thead th{font-size:11px;padding:8px 6px} tbody td{padding:10px 6px;font-size:13px} .btn{font-size:12px;padding:8px 12px}}
@media(max-width:480px){table{font-size:12px} thead th{font-size:10px;padding:6px 4px} tbody td{padding:8px 4px;font-size:11px} .btn{font-size:11px;padding:6px 10px}}

.badge{padding:6px 10px;border-radius:999px;font-size:12px;font-weight:800;display:inline-block}
.buy{background:rgba(34,197,94,.15);color:#16a34a;border:1px solid rgba(34,197,94,.35)}
.hold{background:rgba(245,158,11,.15);color:#d97706;border:1px solid rgba(245,158,11,.35)}
.avoid{background:rgba(239,68,68,.15);color:#dc2626;border:1px solid rgba(239,68,68,.35)}

.risk-low{color:#16a34a}
.risk-med{color:#d97706}
.risk-high{color:#dc2626}

.sep{height:1px;background:var(--border);margin:12px 0}
.footer{color:var(--muted);font-size:12px;margin-top:20px;text-align:center;padding:20px;border-top:1px solid var(--border)}

.kbd{border:1px solid var(--border);padding:2px 6px;border-radius:6px;background:var(--bg);color:var(--muted);font-size:12px}

.empty-state{text-align:center;color:var(--muted);padding:40px 20px}

.loading{opacity:0.7;pointer-events:none}

@media(max-width:600px){.actions{flex-direction:column} .row{grid-template-columns:1fr;gap:8px} table{font-size:14px} tbody td{padding:8px}}
.table-responsive{overflow-x:auto;width:100%}
@media(max-width:768px){.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch;border-radius:12px} .table-responsive table{min-width:600px}}
  </style>
</head>
<body>
  <!-- ===== Header ===== -->
  <header>
  <div class="container nav">
    <h1 class="logo"></h1>

    <!-- Desktop links -->
    <nav class="desktop-nav">
      <a href="#">Home</a>
      <a href="#">About Us</a>
      <a href="#">Contact</a>
      <a href="#">My Profile</a>
    </nav>

    <!-- Menu button (mobile) -->
    <button class="menu-btn" id="menuBtn" aria-label="Open menu">☰</button>

    <!-- Side menu -->
    <aside class="side-menu" id="sideMenu" aria-hidden="true">
      <button class="close-btn" id="closeMenu" aria-label="Close menu">×</button>
      <nav>
        <a href="#">Home</a>
        <a href="#">About Us</a>
        <a href="#">Contact</a>
        <a href="#">My Profile</a>
      </nav>
      <button class="theme-toggle" id="themeToggle">Toggle Theme</button>
    </aside>
  </div>
  </header>

  <main class="container cards-container" style="margin-top:14px">
    <!-- Form Card -->
    <section class="card">
      <h2 style="margin:0 0 10px 0">Add Asset</h2>
      <div class="chips" style="margin-bottom:12px">
        <span class="chip">Example: FWRY, EFG, MSFT</span>
        <span class="chip">Currency irrelevant – numbers only</span>
      </div>
      <form id="assetForm">
        <div class="row">
          <div>
            <label for="name">Asset Name</label>
            <input type="text" id="name" placeholder="MSFT" required style="padding: 14px; font-size: 16px;">
          </div>
          <div>
            <label for="pnow">Current Price</label>
            <input type="number" id="pnow" placeholder="450" required style="padding: 14px; font-size: 16px;">
          </div>
          <div>
            <label for="p6m">6 Months</label>
            <input type="number" id="p6m" placeholder="440" style="padding: 14px; font-size: 16px;">
          </div>
          <div>
            <label for="p1y">1 Year</label>
            <input type="number" id="p1y" placeholder="410" style="padding: 14px; font-size: 16px;">
          </div>
          <div>
            <label for="p5y">5 Years</label>
            <input type="number" id="p5y" placeholder="135" style="padding: 14px; font-size: 16px;">
          </div>
        </div>
        <div style="margin-top:10px">
          <label for="notes">Notes</label>
          <input type="text" id="notes" placeholder="Major Tech, S&P 500 Fund">
        </div>
        <div class="actions" style="margin-top:12px">
          <button class="btn btn-primary" type="submit">Add</button>
          <button class="btn btn-ghost" type="button" id="clearBtn">Clear All</button>
        </div>
      </form>
    </section>

    <!-- Insights Card -->
    <section class="card">
      <h2 style="margin:0 0 10px 0">Decision Methodology</h2>
      <div class="chips">
        <span class="chip">5-Year CAGR</span>
        <span class="chip">1-Year Return</span>
        <span class="chip">6-Month Return</span>
        <span class="chip">Risk = Volatility</span>
      </div>
      <div class="sep"></div>
      <ul style="margin:0;padding-right:18px;line-height:1.9">
        <li>CAGR = <code>(Today Price / 5-Year Price)^(1/5) − 1</code></li>
        <li>1-Year Return + 6-Month Return</li>
        <li>Momentum Score = 20% of CAGR + 30% of 1-Year + 50% of 6-Month</li>
        <li>Risk = Standard Deviation of Returns</li>
        <li>Decision:
          <ul style="margin-top:6px;line-height:1.7">
            <li><span class="badge buy">Buy</span> if momentum ≥ 10% and all returns positive</li>
            <li><span class="badge hold">Hold</span> if between 0–10%</li>
            <li><span class="badge avoid">Avoid</span> if momentum is negative</li>
          </ul>
        </li>
      </ul>
      <div class="sep"></div>
      <div style="color:var(--muted)">⚠️ Note: Educational tool only. Not investment advice. Use research and portfolio diversification.</div>
    </section>

    <!-- Table Card -->
    <section class="card" style="overflow-x:auto">
      <h2 style="margin:0 0 12px 0">Added Assets</h2>
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Name</th><th>Current Price</th><th>6 Months</th><th>1 Year</th><th>5 Years</th><th>Notes</th><th>Actions</th>
            </tr>
          </thead>
          <tbody id="assetTableBody">
            <tr class="empty-state"><td colspan="7">No assets yet.</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="footer">
    © 2025 KemetX. All rights reserved
  </footer>

  <script>
    let state = [];

    function safeUUID() {
      return 'xxxx-xxxx-xxxx'.replace(/[x]/g,()=>Math.floor(Math.random()*16).toString(16));
    }

    function save() { localStorage.setItem('kemetx_state', JSON.stringify(state)); }
    function loadState() { const stored = localStorage.getItem('kemetx_state'); if(stored) state = JSON.parse(stored); }

    function render() {
  const tbody = document.getElementById('assetTableBody');
  tbody.innerHTML = '';
  if(state.length === 0){
    tbody.innerHTML = '<tr class="empty-state"><td colspan="7">No assets yet.</td></tr>';
    return;
  }

  state.forEach(a => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${a.name}</td>
      <td>${a.pnow}</td>
      <td>${a.p6m || '-'}</td>
      <td>${a.p1y || '-'}</td>
      <td>${a.p5y || '-'}</td>
      <td>${a.notes || '-'}</td>
      <td class="actions">
        <button class="btn btn-primary" onclick="editAsset('${a.id}')">Edit</button>
        <button class="btn btn-danger" onclick="removeAsset('${a.id}')">Delete</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

let editingId = null;

function editAsset(id) {
  const asset = state.find(a => a.id === id);
  if(!asset) return;

  // Fill form with existing values
  document.getElementById('name').value = asset.name;
  document.getElementById('pnow').value = asset.pnow;
  document.getElementById('p6m').value = asset.p6m || '';
  document.getElementById('p1y').value = asset.p1y || '';
  document.getElementById('p5y').value = asset.p5y || '';
  document.getElementById('notes').value = asset.notes || '';

  editingId = id;
}


    function removeAsset(id){ state = state.filter(a=>a.id!==id); save(); render(); }

    function init(){
      loadState();
      if(state.length===0){
        const demo=[
          {name:'MSFT',p5y:135,p1y:410,p6m:440,pnow:450,notes:'Major Tech - Microsoft'},
          {name:'SPY',p5y:290,p1y:500,p6m:520,pnow:530,notes:'S&P 500 Fund'},
          {name:'FWRY',p5y:15,p1y:6,p6m:7.5,pnow:7.2,notes:'Fintech Egypt'}
        ];
        demo.forEach(d=>{ state.push({...d,id:safeUUID(),ts:Date.now()}); });
        save();
      }
      render();
    }

    document.getElementById('assetForm').addEventListener('submit', function(e){
  e.preventDefault();

  if(editingId) {
    // Update existing asset
    const asset = state.find(a => a.id === editingId);
    asset.name = name.value;
    asset.pnow = +pnow.value;
    asset.p6m = +p6m.value || null;
    asset.p1y = +p1y.value || null;
    asset.p5y = +p5y.value || null;
    asset.notes = notes.value || '';
    editingId = null; // reset edit state
  } else {
    // Add new asset
    const a = {
      id: safeUUID(),
      name: name.value,
      pnow: +pnow.value,
      p6m: +p6m.value || null,
      p1y: +p1y.value || null,
      p5y: +p5y.value || null,
      notes: notes.value || '',
      ts: Date.now()
    };
    state.push(a);
  }

  save();
  render();
  this.reset();
});


    // Theme toggle
    const themeToggle=document.getElementById('themeToggle');
    themeToggle.addEventListener('click',()=>{ document.documentElement.classList.toggle('light'); });

    // Side menu
    const menuBtn=document.getElementById('menuBtn'),closeMenu=document.getElementById('closeMenu'),sideMenu=document.getElementById('sideMenu');
    menuBtn.addEventListener('click',()=>sideMenu.classList.add('open'));
    closeMenu.addEventListener('click',()=>sideMenu.classList.remove('open'));

    init();
  </script>
</body>
</html>
